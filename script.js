// Set map area and center view
const coord1 = [-39.603457,-73.038868];
const coord2 = [-39.808016,-72.774131];
let view = [-39.66123,-72.95155];

// Create map and set OSM tiles
let map = L.map('map', {
  maxZoom: 19,
  minZoom: 15,
  maxBounds: [
    coord1,
    coord2
  ],
}).setView(view, 16);
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'
}).addTo(map);


// ckpunmep's Get coordinates by click on a map + Furqan Anas' Leaflet Draggable Marker
// let markerId = 0;
map.on('click', function(e) {
  let Lat = e.latlng.lat;
  let Lng = e.latlng.lng;
  let curLocation = [Lat, Lng];
  let marker = new L.marker(curLocation, {
    draggable: 'true'
  });
  map.addLayer(marker);

  // markerId += 1;
  // console.log("Added marker " + markerId);
  // console.log(Lat.toFixed(5) + "," + Lng.toFixed(5));

  marker.on('dragend', function(event) {
    let position = marker.getLatLng();
    marker.setLatLng(position, {
      draggable: 'true'
    }).bindPopup(position).update();
    Lat = position.lat;
    Lng = position.lng;
    console.log(Lat.toFixed(5) + "," + Lng.toFixed(5));
  });
});


// Set custom zones
const territorios = {
  zone1A: [[-39.66640,-72.95407], [-39.66638,-72.95283], [-39.66755,-72.95274], [-39.66758,-72.95401]],
  zone1B: [[-39.66765,-72.95401], [-39.66761,-72.95273], [-39.66849,-72.95269], [-39.66853,-72.95399]],
  zone1C: [[-39.66859,-72.95399], [-39.66856,-72.95269], [-39.66905,-72.95267], [-39.66908,-72.95399]],
  zone1D: [[-39.66914,-72.95399], [-39.66911,-72.95267], [-39.66959,-72.95264], [-39.66962,-72.95399]],
  zone2A: [[-39.66642,-72.95788], [-39.66646,-72.95777], [-39.66649,-72.95763], [-39.66646,-72.95618],
  [-39.66657,-72.95619], [-39.66663,-72.95648], [-39.66666,-72.95778]],
  zone2B: [[-39.66594,-72.95792], [-39.66619,-72.95784], [-39.66629,-72.95778], [-39.66633,-72.95771],
  [-39.66635,-72.95760], [-39.66628,-72.95421], [-39.66566,-72.95420], [-39.66522,-72.95384],
  [-39.66522,-72.95432], [-39.66567,-72.95467], [-39.66588,-72.95467]],
  zone2C: [[-39.66728,-72.95412], [-39.66791,-72.95410], [-39.66838,-72.95429], [-39.66838,-72.95466],
  [-39.66791,-72.95454], [-39.66729,-72.95453]],
  zone2D: [[-39.66841,-72.95430], [-39.67018,-72.95499], [-39.67051,-72.95474], [-39.67048,-72.95466],
  [-39.67018,-72.95487], [-39.66811,-72.95408], [-39.66990,-72.95407], [-39.66991,-72.95445],
  [-39.67017,-72.95455], [-39.67051,-72.95426], [-39.67080,-72.95485], [-39.67017,-72.95532],
  [-39.66841,-72.95467]],
  zone2E: [[-39.66969,-72.95398], [-39.66967,-72.95264], [-39.66992,-72.95263], [-39.66994,-72.95370],
  [-39.67021,-72.95384], [-39.67021,-72.95412], [-39.66995,-72.95398]],
  zone3A: [[-39.66638,-72.95273], [-39.66637,-72.95144], [-39.66753,-72.95122], [-39.66754,-72.95264]],
  zone3B: [[-39.66762,-72.95264], [-39.66761,-72.95120], [-39.66842,-72.95108], [-39.66846,-72.95177],
  [-39.66805,-72.95178], [-39.66805,-72.95187], [-39.66846,-72.95187], [-39.66848,-72.95259]],
  zone3C: [[-39.66856,-72.95258], [-39.66855,-72.95222], [-39.66921,-72.95216], [-39.66921,-72.95205],
  [-39.66855,-72.95211], [-39.66854,-72.95168], [-39.66896,-72.95164], [-39.66955,-72.95227],
  [-39.66958,-72.95236], [-39.66958,-72.95253]],
  zone4A: [[-39.66637,-72.95133], [-39.66635,-72.95003], [-39.66718,-72.94965], [-39.66751,-72.95111]],
  zone4B: [[-39.66760,-72.95109], [-39.66750,-72.95064], [-39.66776,-72.95050], [-39.66785,-72.95074],
  [-39.66792,-72.95070], [-39.66781,-72.95039], [-39.66759,-72.94975], [-39.66754,-72.94979],
  [-39.66773,-72.95039], [-39.66748,-72.95054], [-39.66727,-72.94960], [-39.66751,-72.94949],
  [-39.66775,-72.94933], [-39.66804,-72.94987], [-39.66839,-72.95098]],
  zone4C: [[-39.66783,-72.94925], [-39.66837,-72.94866], [-39.66899,-72.94760], [-39.66939,-72.94794],
  [-39.66876,-72.94909], [-39.66814,-72.94982]],
  zone5A: [[-39.66335,-72.95147], [-39.66413,-72.95109], [-39.66414,-72.95281], [-39.66386,-72.95282],
  [-39.66386,-72.95161], [-39.66336,-72.95187]],
  zone5B: [[-39.66426,-72.95274], [-39.66426,-72.95225], [-39.66511,-72.95196], [-39.66511,-72.95279],
  [-39.66434,-72.95281], [-39.66429,-72.95279]],
  zone5C: [[-39.66426,-72.95213], [-39.66425,-72.95103], [-39.66512,-72.95063], [-39.66511,-72.95184]],
  zone5D: [[-39.66525,-72.95057], [-39.66624,-72.95010], [-39.66625,-72.95136], [-39.66523,-72.95179]],
  zone6A: [[-39.66477,-72.96084], [-39.66518,-72.96068], [-39.66548,-72.96159], [-39.66556,-72.96155],
  [-39.66527,-72.96065], [-39.66625,-72.96032], [-39.66622,-72.96021], [-39.66566,-72.96040],
  [-39.66553,-72.95988], [-39.66648,-72.95953], [-39.66669,-72.96053], [-39.66573,-72.96092],
  [-39.66590,-72.96153], [-39.66514,-72.96193]],
  zone6B: [[-39.66385,-72.96106], [-39.66373,-72.96070], [-39.66377,-72.96056], [-39.66375,-72.96043],
  [-39.66417,-72.96025], [-39.66414,-72.96013], [-39.66362,-72.96036], [-39.66318,-72.95906],
  [-39.66525,-72.95838], [-39.66539,-72.95912], [-39.66433,-72.95958], [-39.66460,-72.96042],
  [-39.66425,-72.96057], [-39.66434,-72.96085]],
  zone6C: [[-39.66590,-72.95793], [-39.66312,-72.95888], [-39.66248,-72.95714], [-39.66273,-72.95696],
  [-39.66328,-72.95845], [-39.66588,-72.95748]],
  zone7A: [[-39.66240,-72.95691], [-39.66323,-72.95619], [-39.66335,-72.95602], [-39.66458,-72.95491],
  [-39.66468,-72.95509], [-39.66345,-72.95623], [-39.66333,-72.95642], [-39.66247,-72.95711]],
  zone7B: [[-39.66363,-72.95563], [-39.66326,-72.95497], [-39.66348,-72.95478], [-39.66384,-72.95544]],
  zone7C: [[-39.66390,-72.95539], [-39.66374,-72.95509], [-39.66422,-72.95466], [-39.66430,-72.95479],
  [-39.66443,-72.95466], [-39.66452,-72.95482]],
  zone7D: [[-39.66370,-72.95501], [-39.66354,-72.95471], [-39.66376,-72.95452], [-39.66384,-72.95465],
  [-39.66398,-72.95452], [-39.66407,-72.95467]],
  zone7E: [[-39.66318,-72.95493], [-39.66307,-72.95472], [-39.66358,-72.95424], [-39.66371,-72.95445]],
  zone8A: [[-39.66257,-72.95663], [-39.66220,-72.95592], [-39.66240,-72.95574], [-39.66278,-72.95645]],
  zone8B: [[-39.66284,-72.95640], [-39.66246,-72.95569], [-39.66266,-72.95551], [-39.66304,-72.95622]],
  zone8C: [[-39.66311,-72.95617], [-39.66272,-72.95546], [-39.66293,-72.95528], [-39.66329,-72.95595],
  [-39.66318,-72.95610]],
  zone8D: [[-39.66335,-72.95589], [-39.66300,-72.95521], [-39.66319,-72.95504], [-39.66356,-72.95570]],
  zone8E: [[-39.66224,-72.95576], [-39.66213,-72.95555], [-39.66258,-72.95514], [-39.66269,-72.95535]],
  zone9A: [[-39.66127,-72.95961], [-39.66157,-72.96070], [-39.66145,-72.96076], [-39.66115,-72.95966]],
  zone9B: [[-39.66245,-72.95933], [-39.66302,-72.95913], [-39.66317,-72.95957], [-39.66259,-72.95978]],
  zone9C: [[-39.66003,-72.95960], [-39.66016,-72.95957], [-39.66074,-72.95951], [-39.66241,-72.95912],
  [-39.66295,-72.95894], [-39.66255,-72.95779], [-39.66185,-72.95817], [-39.66202,-72.95858],
  [-39.66060,-72.95888], [-39.65998,-72.95906]],
  zone9D: [[-39.66058,-72.95875], [-39.66185,-72.95849], [-39.66170,-72.95811], [-39.66250,-72.95765],
  [-39.66226,-72.95696], [-39.66197,-72.95715], [-39.66211,-72.95754], [-39.66135,-72.95797],
  [-39.66147,-72.95825], [-39.66053,-72.95843]],
  zone9E: [[-39.66117,-72.95647], [-39.66190,-72.95591], [-39.66203,-72.95631], [-39.66131,-72.95682]],
  zone9F: [[-39.66113,-72.95635], [-39.66188,-72.95581], [-39.66185,-72.95550], [-39.66186,-72.95531],
  [-39.66198,-72.95405], [-39.66156,-72.95428], [-39.66144,-72.95565], [-39.66100,-72.95598]],
  zone9G: [[-39.66223,-72.95186], [-39.66161,-72.95166], [-39.65873,-72.95223], [-39.65919,-72.95328],
  [-39.66213,-72.95271]],
  zone9H: [[-39.65789,-72.95242], [-39.65862,-72.95226], [-39.65924,-72.95366], [-39.65900,-72.95388],
  [-39.65846,-72.95268], [-39.65805,-72.95277], [-39.65794,-72.95259]],
  zone10A: [[-39.66245,-72.95026], [-39.66113,-72.95073], [-39.66097,-72.95072], [-39.66081,-72.95068],
  [-39.66059,-72.95055], [-39.66039,-72.95036], [-39.66019,-72.95005], [-39.66045,-72.94987],
  [-39.66063,-72.95019], [-39.66085,-72.95032], [-39.66110,-72.95037], [-39.66230,-72.94988],
  [-39.66242,-72.95017]],
  zone10B: [[-39.66205,-72.94932], [-39.66124,-72.94991], [-39.66121,-72.94983], [-39.66202,-72.94923],
  [-39.66191,-72.94897], [-39.66108,-72.94959], [-39.66105,-72.94951], [-39.66187,-72.94889],
  [-39.66159,-72.94829], [-39.66131,-72.94852], [-39.66151,-72.94900], [-39.66144,-72.94905],
  [-39.66123,-72.94857], [-39.66102,-72.94872], [-39.66123,-72.94918], [-39.66116,-72.94923],
  [-39.66095,-72.94877], [-39.66069,-72.94895], [-39.66058,-72.94904], [-39.66081,-72.94958],
  [-39.66049,-72.94983], [-39.66057,-72.95000], [-39.66089,-72.94977], [-39.66112,-72.95032],
  [-39.66218,-72.94962]],
  zone11A: [[-39.65547,-72.95217], [-39.65645,-72.95124], [-39.65690,-72.95207], [-39.65571,-72.95230],
  [-39.65559,-72.95230], [-39.65553,-72.95226]],
  zone11B: [[-39.65652,-72.95118], [-39.65711,-72.95064], [-39.65760,-72.95150], [-39.65765,-72.95164],
  [-39.65768,-72.95183], [-39.65767,-72.95188], [-39.65764,-72.95191], [-39.65700,-72.95204]],
  zone11C: [[-39.65745,-72.95033], [-39.65777,-72.95003], [-39.65841,-72.95122], [-39.65848,-72.95179],
  [-39.65846,-72.95182], [-39.65831,-72.95187], [-39.65803,-72.95191], [-39.65802,-72.95138]],
  zone11D: [[-39.65784,-72.94996], [-39.65893,-72.94899], [-39.65946,-72.94991], [-39.65835,-72.95089]],
  zone11E: [[-39.65840,-72.95098], [-39.65951,-72.95000], [-39.66006,-72.95094], [-39.66016,-72.95103],
  [-39.66024,-72.95107], [-39.66024,-72.95151], [-39.65859,-72.95184], [-39.65851,-72.95125],
  [-39.65878,-72.95120], [-39.65945,-72.95106], [-39.65944,-72.95095], [-39.65849,-72.95113]],
  zone12A: [[-39.65487,-72.95123], [-39.65519,-72.95101], [-39.65548,-72.95064], [-39.65580,-72.95109],
  [-39.65599,-72.95096], [-39.65609,-72.95128], [-39.65622,-72.95116], [-39.65627,-72.95125],
  [-39.65612,-72.95140], [-39.65541,-72.95208], [-39.65508,-72.95153]],
  zone12B: [[-39.65525,-72.95078], [-39.65468,-72.95002], [-39.65436,-72.95041], [-39.65432,-72.95049],
  [-39.65481,-72.95113], [-39.65514,-72.95091]],
  zone12C: [[-39.65474,-72.95121], [-39.65440,-72.95076], [-39.65421,-72.95101], [-39.65454,-72.95144]],
  zone12D: [[-39.65498,-72.95157], [-39.65480,-72.95130], [-39.65460,-72.95152], [-39.65478,-72.95175],
  [-39.65481,-72.95175]],
  zone12E: [[-39.65475,-72.95188], [-39.65416,-72.95109], [-39.65405,-72.95123], [-39.65463,-72.95203]],
  zone12F: [[-39.65533,-72.95216], [-39.65504,-72.95166], [-39.65485,-72.95185], [-39.65492,-72.95197],
  [-39.65499,-72.95190], [-39.65522,-72.95228]],
  zone13A: [[-39.65656,-72.95099], [-39.65598,-72.95000], [-39.65580,-72.95024], [-39.65636,-72.95118]],
  zone13B: [[-39.65548,-72.95047], [-39.65491,-72.94974], [-39.65475,-72.94994], [-39.65532,-72.95069]],
  zone13C: [[-39.65573,-72.95017], [-39.65517,-72.94941], [-39.65497,-72.94967], [-39.65555,-72.95039]],
  zone13D: [[-39.65606,-72.94975], [-39.65550,-72.94901], [-39.65523,-72.94934], [-39.65531,-72.94943],
  [-39.65551,-72.94921], [-39.65557,-72.94928], [-39.65537,-72.94952], [-39.65580,-72.95008]],
  zone13E: [[-39.65705,-72.95054], [-39.65629,-72.94923], [-39.65597,-72.94947], [-39.65591,-72.94939],
  [-39.65623,-72.94912], [-39.65573,-72.94826], [-39.65538,-72.94851], [-39.65555,-72.94890],
  [-39.65551,-72.94896], [-39.65613,-72.94980], [-39.65605,-72.94991], [-39.65664,-72.95092]],
  zone14A: [[-39.65888,-72.94890], [-39.65792,-72.94722], [-39.65730,-72.94776], [-39.65650,-72.94855],
  [-39.65667,-72.94886], [-39.65783,-72.94774], [-39.65847,-72.94886], [-39.65720,-72.95000],
  [-39.65606,-72.94801], [-39.65582,-72.94819], [-39.65713,-72.95047]],
  zone14B: [[-39.65720,-72.94771], [-39.65706,-72.94746], [-39.65671,-72.94777], [-39.65686,-72.94804]],
  zone14C: [[-39.65786,-72.94712], [-39.65760,-72.94666], [-39.65718,-72.94703], [-39.65729,-72.94723],
  [-39.65714,-72.94738], [-39.65728,-72.94763]],
  zone14D: [[-39.65722,-72.94718], [-39.65715,-72.94706], [-39.65616,-72.94795], [-39.65645,-72.94846],
  [-39.65663,-72.94829], [-39.65648,-72.94801], [-39.65646,-72.94792], [-39.65649,-72.94781]],
  zone15A: [[-39.65754,-72.94657], [-39.65703,-72.94573], [-39.65664,-72.94612], [-39.65659,-72.94604],
  [-39.65698,-72.94564], [-39.65684,-72.94541], [-39.65673,-72.94530], [-39.65656,-72.94546],
  [-39.65668,-72.94565], [-39.65635,-72.94600], [-39.65661,-72.94643], [-39.65697,-72.94607],
  [-39.65723,-72.94653], [-39.65661,-72.94712], [-39.65671,-72.94731]],
  zone15B: [[-39.65740,-72.94483], [-39.65725,-72.94459], [-39.65711,-72.94439], [-39.65689,-72.94430],
  [-39.65670,-72.94394], [-39.65650,-72.94410], [-39.65669,-72.94448], [-39.65688,-72.94459],
  [-39.65653,-72.94492], [-39.65691,-72.94527]],
  zone15C: [[-39.65937,-72.94299], [-39.65905,-72.94245], [-39.65717,-72.94359], [-39.65742,-72.94398],
  [-39.65717,-72.94428], [-39.65732,-72.94449], [-39.65747,-72.94475]],
  zone15D: [[-39.65779,-72.94461], [-39.65838,-72.94406], [-39.65852,-72.94430], [-39.65793,-72.94484]],
  zone15E: [[-39.65952,-72.94299], [-39.65978,-72.94341], [-39.66063,-72.94492], [-39.66077,-72.94476],
  [-39.65990,-72.94325], [-39.65965,-72.94285]],
  zone15F: [[-39.66058,-72.94559], [-39.65959,-72.94655], [-39.65970,-72.94676], [-39.66069,-72.94582]],
  zone15G: [[-39.65927,-72.94670], [-39.65981,-72.94617], [-39.66051,-72.94548], [-39.66055,-72.94534],
  [-39.66057,-72.94512], [-39.66054,-72.94497], [-39.66048,-72.94487], [-39.65906,-72.94635]],
  zone16A: [[-39.65839,-72.94777], [-39.65877,-72.94738], [-39.65815,-72.94636], [-39.65799,-72.94652],
  [-39.65793,-72.94643], [-39.65836,-72.94600], [-39.65820,-72.94573], [-39.65794,-72.94601],
  [-39.65733,-72.94504], [-39.65698,-72.94537]],
  zone16B: [[-39.65896,-72.94700], [-39.65841,-72.94610], [-39.65822,-72.94628], [-39.65877,-72.94719]],
  zone16C: [[-39.65926,-72.94672], [-39.65820,-72.94492], [-39.65780,-72.94533], [-39.65752,-72.94487],
  [-39.65741,-72.94497], [-39.65794,-72.94583], [-39.65796,-72.94584], [-39.65815,-72.94564],
  [-39.65792,-72.94527], [-39.65798,-72.94520], [-39.65821,-72.94557], [-39.65839,-72.94539],
  [-39.65844,-72.94547], [-39.65827,-72.94566], [-39.65855,-72.94612], [-39.65873,-72.94595],
  [-39.65877,-72.94602], [-39.65860,-72.94620], [-39.65878,-72.94650], [-39.65895,-72.94634],
  [-39.65899,-72.94640], [-39.65882,-72.94657], [-39.65904,-72.94693]],
  zone17A: [[-39.65984,-72.94802], [-39.65926,-72.94686], [-39.65896,-72.94716], [-39.65916,-72.94751],
  [-39.65910,-72.94757], [-39.65889,-72.94722], [-39.65877,-72.94734], [-39.658805,-72.94740],
  [-39.65841,-72.94781], [-39.65897,-72.94881], [-39.65977,-72.94806]],
  zone17B: [[-39.66031,-72.94913], [-39.66010,-72.94866], [-39.65996,-72.94847], [-39.65989,-72.94836],
  [-39.65987,-72.94826], [-39.65988,-72.94814], [-39.65982,-72.94815], [-39.65902,-72.94890],
  [-39.65928,-72.94934], [-39.65934,-72.94940], [-39.65942,-72.94946], [-39.65948,-72.94951],
  [-39.65957,-72.94954], [-39.65976,-72.94961], [-39.66001,-72.94938], [-39.65978,-72.94891],
  [-39.65984,-72.94885], [-39.66008,-72.94932]],
  zone17C: [[-39.66060,-72.94889], [-39.66041,-72.94848], [-39.66020,-72.94865], [-39.66039,-72.94907]],
  zone17D: [[-39.66037,-72.94838], [-39.66017,-72.94796], [-39.65997,-72.94813], [-39.65996,-72.94823],
  [-39.65998,-72.94830], [-39.66015,-72.94855]],
  zone17E: [[-39.66090,-72.94868], [-39.66048,-72.94778], [-39.66026,-72.94790], [-39.66069,-72.94883]],
  zone17F: [[-39.66118,-72.94848], [-39.66077,-72.94756], [-39.66056,-72.94772], [-39.66098,-72.94862]],
  zone17G: [[-39.66047,-72.94766], [-39.66034,-72.94742], [-39.66003,-72.94757], [-39.65985,-72.94721],
  [-39.65964,-72.94739], [-39.65995,-72.94800], [-39.65997,-72.94799], [-39.66017,-72.94782]],
  zone18A: [[-39.662135,-72.94926], [-39.66317,-72.94855], [-39.66325,-72.94873], [-39.662205,-72.94943]],
  zone18B: [[-39.66310,-72.94848], [-39.66280,-72.94836], [-39.66199,-72.94892], [-39.66210,-72.94917]],
  zone18C: [[-39.66268,-72.94831], [-39.66194,-72.94882], [-39.66183,-72.94858], [-39.66225,-72.94826],
  [-39.66249,-72.94822]],
  zone18D: [[-39.66179,-72.94849], [-39.66166,-72.94822], [-39.66196,-72.94796], [-39.66204,-72.94782],
  [-39.66215,-72.94784], [-39.66214,-72.94804], [-39.66220,-72.94815]],
  zone18E: [[-39.66177,-72.94799], [-39.66148,-72.94741], [-39.66134,-72.94752], [-39.66162,-72.94812]],
  zone18F: [[-39.66154,-72.94819], [-39.66120,-72.94746], [-39.66113,-72.94741], [-39.66104,-72.94739],
  [-39.66098,-72.94740], [-39.66085,-72.94749], [-39.66126,-72.94842]]
}

// Set zone colors
const colors = {
1: "#FE80A9", 2: "#FCAA0C", 3: "#FE7F26", 4: "#B3A2E6", 5: "#DA0022", 6: "#888888",
7: "#20B250", 8: "#5CF4F1", 9: "#77CDE8", 10: "#FD76B8", 11: "#C00000", 12: "#90E7B4",
13: "#EFE4AF", 14: "#FFF86E", 15: "#E65B00", 16: "#92914A",
17: "#EF00F1", 18: "#FF3E3D"
}

// Place custom zones
function createZones(obj, col) {
  for (let i in obj) {
      let num = i.match(/\d+/)[0];
      L.polygon(obj[i], {color: col[num], fillOpacity: 0.7, weight: 2}).addTo(map);
  }
}

createZones(territorios, colors)

// Set zone and square markers
markers = {
  num: [[-39.66697,-72.95340], [-39.66785,-72.95437], [-39.66698,-72.95205], [-39.66690,-72.95055],
  [-39.66467,-72.95136], [-39.66386,-72.95940], [-39.66402,-72.95511], [-39.66264,-72.95575],
  [-39.66228,-72.95862], [-39.66083,-72.94925], [-39.65866,-72.94987], [-39.65553,-72.95135],
  [-39.65656,-72.95030], [-39.65788,-72.94759], [-39.65810,-72.94365], [-39.65736,-72.94552],
  [-39.65919,-72.94806], [-39.66220,-72.94848]],
  A: [[-39.66742,-72.95385], [-39.66659,-72.95770], [-39.66737,-72.95246], [-39.66727,-72.95096],
  [-39.66403,-72.95264], [-39.66512,-72.96091], [-39.66354,-72.95602], [-39.66267,-72.95643],
  [-39.66263,-72.95879], [-39.66220,-72.95022], [-39.65650,-72.95189], [-39.65586,-72.95139],
  [-39.65640,-72.95095], [-39.65868,-72.94888], [-39.65739,-72.94655], [-39.65855,-72.94736],
  [-39.65955,-72.94796], [-39.66311,-72.94874]],
  B: [[-39.66835,-72.95377], [-39.66617,-72.95757], [-39.66829,-72.95239], [-39.66809,-72.95079],
  [-39.66490,-72.95258], [-39.66510,-72.95895], [-39.66370,-72.95541], [-39.66293,-72.95621],
  [-39.66226,-72.95760], [-39.66183,-72.94922], [-39.65741,-72.95171], [-39.65501,-72.95077],
  [-39.65535,-72.95047], [-39.65706,-72.94771], [-39.65717,-72.94482], [-39.65882,-72.94698],
  [-39.65976,-72.94933], [-39.66282,-72.94855]],
  C: [[-39.66889,-72.95376], [-39.66823,-72.95444], [-39.66937,-72.95237], [-39.66819,-72.94939],
  [-39.66492,-72.95169], [-39.66323,-72.95863], [-39.66421,-72.95492], [-39.66317,-72.95594],
  [-39.66168,-72.95567], [-39.65829,-72.95163], [-39.65461,-72.95122], [-39.65563,-72.95018],
  [-39.65771,-72.94711], [-39.65905,-72.94297], [-39.65859,-72.94587], [-39.66049,-72.94886],
  [-39.66245,-72.94836]],
  D: [[-39.66944,-72.95378], [-39.66954,-72.95434], [-39.66601,-72.95118], [-39.66376,-72.95477],
  [-39.66344,-72.95568], [-39.66231,-72.95372], [-39.65917,-72.94988], [-39.65482,-72.95155],
  [-39.65584,-72.94978], [-39.65651,-72.94827], [-39.65840,-72.94429], [-39.66023,-72.94834],
  [-39.66205,-72.94814]],
  E: [[-39.66983,-72.95379], [-39.66357,-72.95445], [-39.66258,-72.95535], [-39.66189,-72.95240],
  [-39.65989,-72.95126], [-39.65465,-72.95187], [-39.65689,-72.95052], [-39.66066,-72.94474],
  [-39.66078,-72.94864], [-39.66167,-72.94797]],
  F: [[-39.65526,-72.95216], [-39.66042,-72.94534], [-39.66108,-72.94845], [-39.66141,-72.94817]],
  G: [[-39.66058,-72.94582], [-39.66032,-72.94764]]
  }
  
  for (let item in markers) {
      for (let idx = 0; idx < markers[item].length; idx++) {
          if (item === 'num') {
              let pos = new L.LatLng(markers[item][idx][0],markers[item][idx][1]);
              let iconNum = (idx + 1);
              let icon = L.divIcon({
                  iconSize:null,
                  html:'<div class="map-label number"><div class="map-label-content">'+iconNum+'</div><div class="map-label-arrow"></div></div>'
                });
              L.marker(pos,{icon: icon}).addTo(map);
          } else {
            let pos = new L.LatLng(markers[item][idx][0],markers[item][idx][1]);
            let icon = L.divIcon({
              iconSize:null,
              html:'<div class="map-label square"><div class="map-label-content">'+item+'</div><div class="map-label-arrow"></div></div>'
            });
          L.marker(pos,{icon: icon}).addTo(map);
          }
      }
  }

// Enable device GPS
map.locate({watch: true, enableHighAccuracy: true, maximumAge: 2000});

// Add location marker
let gpsMarker = null;

function onLocationFound(e) {
  if (gpsMarker == null) {
    gpsMarker = L.marker(e.latlng).addTo(map);
  } else {
    gpsMarker.setLatLng(e.latlng);
  }
}

map.on('locationfound', onLocationFound);

// On location error
function onLocationError(e) {
  alert("No se pudo determinar su ubicaci√≥n");
}

map.on('locationerror', onLocationError);